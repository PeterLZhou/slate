---
title: API Reference

language_tabs: # must be one of https://git.io/vQNgJ
  - javascript
  - typescript

toc_footers:
  - <a href='https://www.langapi.co'>Sign Up for Lang API</a>

search: true
---

# Introduction

Welcome to Lang API! You can use our API and node module to make translation requests and received updated translations.

# Installation

First, we need to add the langapi node module to our project and ensure we have loaded the correct API key.

> In the terminal, install the "langapi" node module.

```shell--all
#!/usr/bin/bash

> npm install -g langapi
```

> To authorize, make sure your .env file contains the LANG_KEY environment variable.

```shell--all
# .env

LANG_KEY=LANG_API_KEY
```

> Make sure to replace `LANG_API_KEY` with your API key.

# Setup

Generate blank default config files and Lang Client using the lang initialization function. This will create a folder inside of SRC called .lang containing a langconfig.json and a translations.json. Set your initial and target languages inside of langconfig.json, and do not touch translations.json - it is autogenerated when you request and receive translations.

An additional file called LangConfig.js will be created, containing the client used to lookup translations. Export the tr function from this file to translate your strings.

```shell--all
#!/user/bin/bash

> langapi init --src SRC
```

```javascript
//LangClient.js
var LangClient = require("langapi")(
  process.env.LANG_KEY,
  require("./.lang/translations.json"),
  require("./.lang/langconfig.json")
);

export function tr(phrase) {
  return LangClient.tr(phrase);
}
```

> Make sure to replace `SRC` with your source directory. If no argument is provided, it defaults to "./src".
> You can generate a typescript Lang Client by adding the --ts flag.

```typescript
// LangClient.ts
import LangTranslateClient from "langapi";

const LangClient = new LangTranslateClient(
  process.env.LANG_KEY,
  require("./.lang/translations.json"),
  require("./.lang/langconfig.json")
);

export function tr(phrase: string) {
  return LangClient.tr(phrase);
}
```

# Preparing Texts For Translation

Wrap all of your desired strings with Lang API's tr function.

Adding support for variables inside the string is coming out in the next release - only plaintext strings are currently supported.

```javascript
// *.js, *.jsx
var tr = require("./LangClient").tr;

var translatedString = tr("Original string");
```

```typescript
// *.ts, *.tsx
import { tr } from "./LangClient";

const translatedString = tr("Original string");
```

# Request Translations

Search through your codebase for all requested strings and send them to our API endpoint for translation. The push function parses your codebase for tr(...) calls and requests all previously unrequested strings for you. Phrases are uniquely identified by string value, so two tr() calls on the same string will only generate one request.

```shell--all
#!/usr/bin/bash

> langapi push
```

> Make sure your .env file contains your Lang API key, which is used for authentication

# Receive Translations

The pull function gets all requested phrases that have been translated thus far caches the results inside of your translations.json, which is where tr(...) will fetch your translations.

```shell--all
#!/usr/bin/bash

> langapi pull
```

> Make sure your .env file contains your Lang API key, which is used for authentication

# Ready to go!

Once you've requested translations and cached the results in translations.json, you're all set to display localized strings with the tr(...) function. Strings that are not yet translated will default to the original language string.

```javascript
// *.js, *.jsx
var tr = require("./LangClient");

var translatedString = tr("Hello world!");
```

```typescript
// *.ts, *.tsx
import tr from "./LangClient";

const translatedString = tr("Hello world!");
```

# Changelog
